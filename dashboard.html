<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-signin-client_id" content="198434096526-c806a42elrrhvl89g6b581tmjvbonu3n.apps.googleusercontent.com">
  <title>Reefsource</title>
  <meta name="description" content="Using the environment as a firsthand storytelling source">

  <link rel="stylesheet" href="css/foundation.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/fontello.css">
  <link rel="stylesheet" href="css/font-awesome.css">

  <link rel="stylesheet" type="text/css" href="css/log_in_form.css">

  <script src="javascripts/libs.js" type="text/javascript"></script>
     <script src="javascripts/jquery.ui.widget.js"></script>
	<script type="text/javascript" src="javascripts/jquery.fileupload.js"></script>
	<script type="text/javascript" src="javascripts/jquery.fileupload-process.js"></script>
	 
	<script type="text/javascript" src="javascripts/jquery.fileupload-ui.js"></script>
  <script>
    // terrificjs bootstrap
    (function($) {
        $(document).ready(function() {
            var $page = $('body');
            var config = {
              dependencyPath: {
                plugin: 'javascripts/'
              }
            }
            var application = new Tc.Application($page, config);
            application.registerModules();
            application.start();
    		
    		// <!-----------------Feb 17----------------->


            var listvalues = localStorage.getItem('lists');
			//pase the value 
			var finalvalue = JSON.parse(listvalues);
			var user_name_first_name = finalvalue.Name.split(" ")[0];
			var user_name_last_name = finalvalue.Name.split(" ")[1];
			var user_email = finalvalue.Email;
			document.getElementById("user-db-button-text").innerHTML = "Hi, " + user_name_first_name;


			// <!-------------------FEB 17--------------->
        });
        $('#notification_button').fileupload({
        	
        	dataType:'json',
        	add: function(e, data){
        		data.submit();
        	},
        	success: function(response, status){
        		var filePath = 'Uploads/' + response.filename;
        		console.log(filePath);
        	},
        	error: function(error){
        		console.log(error);
        	}
        });
    })(Tc.$);
  </script>
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,700,300" media="screen" rel="stylesheet" type="text/css" />
  <script src="javascripts/masonry.pkgd.js" type="text/javascript"></script>
  <script src="javascripts/imagesloaded.pkgd.min.js" type="text/javascript"></script>
  <script src="javascripts/slick.min.js" type="text/javascript"></script>

  <link rel="canonical" href="http://coralreefsource.org">
  <link rel="alternate" type="application/rss+xml" title="Reefsource" href="http://coralreefsource.org/feed.xml" />
  <!--Google Analytics START-->

  <!--Google Analytics END-->

</head>


  <body>
    
      <a id='top'></a>
<div class='contain-to-grid sticky fullwidth'>
  <nav class='top-bar onepage' data-options='sticky_on: large' data-topbar=''>
    <ul class='title-area'>
      <li class='name'>
        <h1>
          <a href="index.html">
            <img alt="" src="images/Reefsource_logo_v1.png" />
          </a>
        </h1>
      </li>
      <li class='toggle-topbar menu-icon'>
        <a href='#'>Menu</a>
      </li>
    </ul>
    <section class='top-bar-section'>
      <ul class='right'>
        
          
            
      		<li>
            	<a href="index.html">HOME</a>
            </li>
            <li>
            	<a href="#user_profile" id="user-db-button-text" data-dropdown="hover1" data-options="is_hover:true;" class="user_db_button">LOG IN</a>
              </a>
              <ul id="hover1" class="f-dropdown" data-dropdown-content>
              	<li><a href="#upload" class="upload-btn-nav" onclick="document.getElementById('upload-btn').style.display='block'" style="border:2px solid #343c55;background-color: #343c55;color: lightgrey;">
              		UPLOAD
              	</a></li>
                <li><a href="index.html" onclick="signOut();">Sign Out</a></li>
              </ul>
            </li>
            
<!--           	<li>
                

            </li> -->
<!--             <li>
            	<a href="" onclick="signOut();">Sign Out</a>
            </li> -->
      </ul>
    </section>
  </nav>
</div>

<script type="text/javascript">

	  function signOut(){
	  	// window.location = "https://google.com"
	  	document.getElementById("user-db-button-text").style.display = "none";
		window.location.href = "https://www.google.com/accounts/Logout?continue=https://appengine.google.com/_ah/logout?continue=https://reefsource.github.io";
	  }

	 //  function signOut() {
  //   var auth2 = gapi.auth2.getAuthInstance();
  //   auth2.signOut().then(function () {
  //     console.log('User signed out.');
  //   });
  // }



</script>


<!-- --------------------FEB 16--------------------- -->
<div class='bg' style='background-image: url(images/newgrid_pic.png); width: 100%; height: 30%; background-size: cover; background-repeat: repeat;'>
	<div style="color:#343c55;font-size: 2rem;text-align: center; padding-top: 4%; position: relative;">You have uploaded 100 images to us. We really appreciate your contributions.</div>
	<div style="text-align: center;">
	<button class="button round" onclick="document.getElementById('upload-btn').style.display='block'" style="width: auto;margin: 2% auto;">MAKE CONTRIBUTIONS</button>
</div>
</div>


<div class="row" style="padding-top: 2%;">
	<div class="large-6 columns" style="text-align: right;">
		<label style="text-align: center;">Filter by Location</label>
	    <select style="width: 60%; text-align: center;">
	        <option value="None">None</option>
	        <option value="Australia">Australia</option>
	        <option value="India">India</option>
	        <option value="Mediterran">Mediterran</option>
	        <option value="United States">United States</option>
         </select>
    </div>
	<div class="large-6 columns" style="text-align: left;">
		<label style="text-align: left;">Filter by Date</label>
	    <select style="width: 60%; text-align: center;">
	        <option value="None">None</option>
	        <option value="12/03/2016">12/03/2016</option>
	        <option value="12/01/2016">12/01/2016</option>
	        <option value="11/15/2016">11/15/2016</option>
	        <option value="10/05/2016">10/05/2016</option>
         </select>
    </div>
</div>

<div id="show_albums" class="row" style=" text-align:center; padding-left: 3%;padding-top: 2%; padding-bottom: 2%;">
	<ul class="small-block-grid-2 medium-block-grid-3 large-block-grid-4">
	  <li><!-- Your content goes here -->
	  	<div class="image-container">
				<img src="images/2.jpg">
			</div>
	  </li>
	  <li><!-- Your content goes here -->
	  	<div class="image-container">
				<img src="images/2.jpg">
			</div>
	  </li>
	  <li><!-- Your content goes here -->
	  	<div class="image-container">
				<img src="images/2.jpg">
			</div>
	  </li>
	  <li><!-- Your content goes here -->
	  	<div class="image-container">
				<img src="images/2.jpg">
			</div>
	  </li>
	  <li><!-- Your content goes here -->
	  	<div class="image-container">
				<img src="images/2.jpg">
			</div>
	  </li>
	  <li>
	  	<div class="image-container">
				<img src="images/2.jpg">
			</div>
	  </li>
	</ul>
</div>



<div id="upload-btn" class="modal">
	
	<div class="upload-modal-content animate" action="action_page.php">
		<div class="row">
			<div class="large-8 columns">
				<div class="image-input-box" id="image-input-box">
					<div id="drag-text" style="text-align: center;margin-top: 25%; opacity: 0.8; color: grey;">
						<p style="font-size: 2rem; font-weight: 4px;" id="notification">Drag images here.<p style="margin-left: 5%;margin-right: 5%;">We would appreciate if you drag the images captured in the same day and from the same location.</p></p>
						<label for="notification_button" class="button round">Or choose from path.

						<!-- --------------------FILE UPLOAD BUTTON--------------------- -->
							<input type="file" id="notification_button" name="uploaded-images" class="show-for-sr" style="visibility: hidden;display: none;" multiple>
						</label>

					</div>
				</div>
			</div>
			<div class="large-4 columns">
			    <div class="image-input-box" style="height: 84%;">
			    	<div class="row">
						<div class="small-12 columns" style="padding-top: 9%;padding-left: 9%; padding-right:9%;">
							<label style="color: grey; font-weight: 3px;">Diving Date:</label>
							<input type="date" name="" min="2000-01-02" required>
						</div>
					</div>
					<div class="row" style="">
						<div class="small-6 columns" style="padding-left: 9%;">
							<label style="color: grey; font-weight: 9px;">Longitude:</label>
							<input type="text" placeholder="Logitude" required>
						</div>
						<div class="small-6 columns" style="padding-right: 9%;">
							<label style="color: grey; font-weight: 3px;">Latitude:</label>
							<input type="text" placeholder="Latitude" required>
						</div>
					</div>
					<p></p>
					<div class="row">
						<div class="small-12 columns" style="padding-left: 9%; padding-right:9%;">
							<label style="color: grey; font-weight: 3px;">How's your exprience?</label>
							<input type="text" name="" style="line-height: 100%;" placeholder="We would like to hear from you.">
						</div>
					</div>
					<p></p>
					<div class="row">
						<div class="small-12 columns" style="padding-left: 9%; padding-right:9%;">
							<label style="color: grey; font-weight: 3px;">Will you refer us to your friends?</label>
							<input type="text" name="" style="line-height: 100%;" placeholder="Please do let us know.">
						</div>
					</div>
				</div>
				<!-- --------------------UPLOAD BUTTON type submit--------------------- -->
					<label class="button round" type="submit" style="width: 100%;">UPLOAD</label>
			</div>
		</div>
		<div class="row">
			
		</div>
	</div>
</div>

<!-- --------------------FEB 17--------------------- -->

<!-- --------------------FEB 17--------------------- -->


<script type="text/javascript">
	
	(function(){
		l = 0

		document.getElementById("notification_button").addEventListener("change", function() {
			if (this.files.length > 0){
				l = l + this.files.length;
				if(l != 1) {
					document.getElementById("notification").innerHTML = l.toString() + " images to upload. Add more?";
				}
				else {
					document.getElementById("notification").innerHTML = l.toString() + " image to upload. Add more?";
				}
			}
		});

		var dropzone = document.getElementById("image-input-box");

		dropzone.ondrop = function(e){
	      e.preventDefault();
	      this.className = 'image-input-box';
	      document.getElementById("drag-text").style.color = "grey";
	      t = e.dataTransfer.files.length;

	      l = l + t;
	      // console.log(l);
	      	if (l > 1){
	      		document.getElementById("notification").innerHTML = l.toString() + " images to upload. Add more?";
	  		}
	  		else{
	  			document.getElementById("notification").innerHTML = l.toString() + " image to upload. Add more?";
	  		}
	    };
		dropzone.ondragover = function(){
			document.getElementById("drag-text").style.color = 'black';		
			this.className = 'image-input-box dragover';

			return false;
		}
		dropzone.ondragleave = function(){
			this.className = 'image-input-box';
			document.getElementById("drag-text").style.color = "grey";
			return false;
		}
	}());
</script>


<script>
// Get the modal
var modal = document.getElementById('upload-btn');
// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}
</script>



<div class='full no-padding' style='background: #4D4F53; color: #fff'>
  <div class='two spacing'></div>
  <div class='row'>
    <div class='large-12 columns'>
      <p>Â©2016/2017 Reefsource, a Brown Institute for Media Innovation Magic Grantee.</p>
    </div>
  </div>
  <div class='spacing'></div>
</div>
    </div>

    <script src="javascripts/jquery.countTo.js" type="text/javascript"></script>
<script src="javascripts/jquery.appear.js" type="text/javascript"></script>
<script src="javascripts/jquery.validate.js" type="text/javascript"></script>
<script src="javascripts/jquery.sequence-min.js" type="text/javascript"></script>
<script src="javascripts/jquery.easing.1.3.js" type="text/javascript"></script>
<script src="javascripts/app.js" type="text/javascript"></script>
 <script src="https://apis.google.com/js/platform.js" async defer></script>
  </body>

</html>
